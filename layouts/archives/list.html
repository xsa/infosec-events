{{/* Collect {page, year} from filename */}}
{{ $items := slice }}

{{ range .Pages }}
  {{ $fname := .File.BaseFileName }}
  {{ if findRE `^(19|20)[0-9]{2}$` $fname }}
    {{ $year := int $fname }}
    {{ $items = $items | append (dict "page" . "year" $year) }}
  {{ end }}
{{ end }}

{{/* Also include current year if missing */}}
{{ $currentYear := now.Format "2006" | int }}
{{ $found := false }}
{{ range $items }}
  {{ if eq .year $currentYear }}
    {{ $found = true }}
  {{ end }}
{{ end }}
{{ if not $found }}
  {{ $dummy := dict "page" (dict "RelPermalink" (print "/archives/" $currentYear "/") ) "year" $currentYear }}
  {{ $items = $items | append $dummy }}
{{ end }}

{{ $items = sort $items "year" "desc" }}