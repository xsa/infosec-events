{{/* layouts/archives/list.html */}}
{{ define "main" }}
  <main class="container">
    <header>
      <h1>{{ .Title | default "Archive" }}</h1>
      {{ with .Content }}{{ . }}{{ end }}
    </header>

    {{/* Collect {page, year} from filename (e.g., 2026 from 2026.md) */}}
    {{ $items := slice }}
    {{ range .Pages }}
      {{ $fname := .File.BaseFileName }}
      {{ if findRE `^(19|20)[0-9]{2}$` $fname }}
        {{ $year := int $fname }}
        {{ $items = $items | append (dict "page" . "year" $year) }}
      {{ end }}
    {{ end }}

    {{/* Sort years DESC so newest (e.g., 2026) is first */}}
    {{ $items = sort $items "year" "desc" }}

    <ul>
      {{ range $items }}
        {{ $p := .page }}
        {{ $y := .year }}
        <li>
          <a href="{{ $p.RelPermalink }}">{{ $y }}</a>
        </li>
      {{ end }}
    </ul>
  </main>
{{ end }}